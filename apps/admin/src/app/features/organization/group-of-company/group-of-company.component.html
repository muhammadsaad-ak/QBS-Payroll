<div class="p-4 pt-6 md:p-6 bg-white">
    <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
        <h3 class="text-xl font-semibold text-gray-800">Group of Company</h3>
        <button (click)="viewDateTrack()" type="button" class="inline-flex items-center px-3 py-1.5 border border-orange-500 rounded-md text-sm font-medium text-orange-500 bg-white hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-1">
          <img src="assets/date-track.svg" alt="Date Track Icon" class="mr-2 h-5 w-5" />
          View Date Track
        </button>
      </div>
  
    <form class="space-y-5" [formGroup]="companyGroupForm" (ngSubmit)="saveGroup()">
      <div class="grid grid-cols-1 gap-x-6 gap-y-5 sm:grid-cols-2 lg:grid-cols-4">
        <div class="sm:col-span-1">
          <label for="companyId" class="block font-sans font-medium text-sm leading-[24px] text-gray-800">
            Company ID
          </label>
          <div class="mt-1">
            <input
              type="text"
              id="companyId"
              formControlName="companyId"
              placeholder="(system-generated)"
              class="block w-full h-[44px] px-2 bg-gray-100 font-inter text-sm text-gray-500 border border-neutral-50 rounded-lg shadow-sm appearance-none cursor-not-allowed"
            />
          </div>
        </div>
  
        <div class="sm:col-span-1">
          <label for="companyName" class="block font-sans font-medium text-sm leading-[24px] text-gray-800">
            Company Name
          </label>
          <div class="mt-1">
            <input
              type="text"
              id="companyName"
              formControlName="companyName"
              placeholder="Company name"
              class="block w-full h-[44px] px-2 font-inter text-sm placeholder:text-neutral-60 border border-neutral-50 rounded-lg shadow-sm appearance-none focus:border-brand-teal-dark focus:outline-none focus:ring-brand-teal-dark"
            />
            <div *ngIf="companyGroupForm.get('companyName')?.invalid && companyGroupForm.get('companyName')?.touched" class="text-red-500 text-xs mt-1">
              Company Name is required
            </div>
          </div>
        </div>
  
        <div class="sm:col-span-1">
          <label for="primaryCurrency" class="block font-sans font-medium text-sm leading-[24px] text-gray-800">
            Primary Currency
          </label>
          <div class="mt-1">
            <select
              id="primaryCurrency"
              formControlName="primaryCurrency"
              class="block w-full h-[44px] pl-2 pr-8 font-inter text-sm border border-neutral-50 rounded-lg shadow-sm focus:border-brand-teal-dark focus:outline-none focus:ring-brand-teal-dark bg-white"
            >
              <option value="PKR">PKR</option>
              <option value="USD">USD</option>
              <option value="EUR">EUR</option>
            </select>
            <div *ngIf="companyGroupForm.get('primaryCurrency')?.invalid && companyGroupForm.get('primaryCurrency')?.touched" class="text-red-500 text-xs mt-1">
              Primary Currency is required
            </div>
          </div>
        </div>
  
        <div class="sm:col-span-1">
          <label for="secondaryCurrency" class="block font-sans font-medium text-sm leading-[24px] text-gray-800">
            Secondary Currency
          </label>
          <div class="mt-1">
            <select
              id="secondaryCurrency"
              formControlName="secondaryCurrency"
              class="block w-full h-[44px] pl-2 pr-8 font-inter text-sm border border-neutral-50 rounded-lg shadow-sm focus:border-brand-teal-dark focus:outline-none focus:ring-brand-teal-dark bg-white"
            >
              <option value="" disabled>Select currency...</option>
              <option value="PKR">PKR</option>
              <option value="USD">USD</option>
              <option value="EUR">EUR</option>
            </select>
          </div>
        </div>
      </div>
  
      <div class="flex justify-end pt-5 space-x-3 border-t border-gray-200 mt-6">
        <button
          (click)="cancel()"
          type="button"
          class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-teal-dark"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="flex justify-center px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"
        >
          Save
        </button>
      </div>
    </form>
  
    <!-- Re-added Table Section -->
</div>
<div *ngIf="isTableVisible" class="mt-10 pt-6 border-t border-gray-200 bg-white">
    
  <h4 class="text-xl font-semibold text-gray-800 mb-4 ml-5">Existing Group of Companies</h4>

  <div class="shadow border-b border-gray-200 p-6  overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-teal-700 border-2">
        <tr>
          <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider">
            Company Code
          </th>
          <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider">
            Company Name
          </th>
          <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider">
            Primary Currency
          </th>
          <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider">
            Secondary Currency
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let group of existingGroups">
          <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-800">
            {{ group.code }}
          </td>
          <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-800">
            {{ group.name }}
          </td>
          <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-800">
            {{ group.primaryCurrency }}
          </td>
          <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-800">
            {{ group.secondaryCurrency || '-' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex items-center justify-between mt-4 text-sm text-gray-500 p-5">
    <div>
      <span>{{ (currentPage - 1) * pageSize + 1 }}-{{ currentPage * pageSize > totalRows ? totalRows : currentPage * pageSize }} of {{ totalRows }} rows</span>
    </div>

    <div class="flex items-center space-x-2">
      <button
        type="button"
        (click)="prevPage()"
        [disabled]="currentPage === 1"
        class="px-2 py-1 border border-gray-300 rounded-md text-xs"
        [ngClass]="currentPage === 1 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-white hover:bg-gray-50'"
      >
        < Prev
      </button>
      <span class="text-xs">Page:</span>
      <input
        type="number"
        [(ngModel)]="currentPage"
        (change)="goToPage()"
        class="w-10 h-7 border border-gray-300 rounded-md text-center text-xs p-1 focus:ring-brand-teal-dark focus:border-brand-teal-dark"
        min="1"
        [max]="totalPages"
      />
      <span class="text-xs">of {{ totalPages }}</span>
      <button
        type="button"
        (click)="nextPage()"
        [disabled]="currentPage === totalPages"
        class="px-2 py-1 border border-gray-300 rounded-md text-xs"
        [ngClass]="currentPage === totalPages ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-white hover:bg-gray-50'"
      >
        Next >
      </button>
    </div>
  </div>
</div>